{
  "name": "cc-copilot",
  "displayName": "CC Copilot",
  "description": "A VS Code extension for managing Claude CLI sessions and AI-powered development",
  "version": "0.0.1",
  "publisher": "cc-copilot",
  "engines": {
    "vscode": "^1.74.0"
  },
  "categories": [
    "Other"
  ],
  "keywords": [
    "claude",
    "ai",
    "terminal",
    "session",
    "companion"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "cc-copilot-sidebar",
          "title": "CC Copilot",
          "icon": "$(robot)"
        }
      ]
    },
    "views": {
      "cc-copilot-sidebar": [
        {
          "id": "claude-sessions-view",
          "name": "Sessions",
          "type": "tree",
          "icon": "$(list-unordered)"
        }
      ]
    },
    "commands": [
      {
        "command": "cc-copilot.newSession",
        "title": "New Claude Session",
        "icon": "$(add)"
      },
      {
        "command": "cc-copilot.refreshSessions",
        "title": "Refresh Sessions",
        "icon": "$(refresh)"
      },
      {
        "command": "cc-copilot.openSession",
        "title": "Open Session"
      },
      {
        "command": "cc-copilot.deleteSession",
        "title": "Delete Session",
        "icon": "$(trash)"
      },
      {
        "command": "cc-copilot.syncWithClaude",
        "title": "Sync with Claude Directory",
        "icon": "$(sync)"
      },
      {
        "command": "cc-copilot.openSettings",
        "title": "Open Settings",
        "icon": "$(settings-gear)"
      },
      {
        "command": "cc-copilot.addThirdPartyProvider",
        "title": "Add Third Party AI Provider",
        "icon": "$(add)"
      },
      {
        "command": "cc-copilot.selectActiveProvider",
        "title": "Select Active AI Provider",
        "icon": "$(account)"
      }
    ],
    "menus": {
      "view/title": [
        {
          "command": "cc-copilot.newSession",
          "when": "view == claude-sessions-view",
          "group": "navigation"
        },
        {
          "command": "cc-copilot.refreshSessions",
          "when": "view == claude-sessions-view",
          "group": "navigation"
        },
        {
          "command": "cc-copilot.syncWithClaude",
          "when": "view == claude-sessions-view",
          "group": "navigation@1"
        },
        {
          "command": "cc-copilot.openSettings",
          "when": "view == claude-sessions-view",
          "group": "navigation@2"
        },
        {
          "command": "cc-copilot.addThirdPartyProvider",
          "when": "view == claude-sessions-view",
          "group": "navigation@3"
        },
        {
          "command": "cc-copilot.selectActiveProvider",
          "when": "view == claude-sessions-view",
          "group": "navigation@4"
        }
      ],
      "view/item/context": [
        {
          "command": "cc-copilot.openSession",
          "when": "view == claude-sessions-view && viewItem == session",
          "group": "inline"
        },
        {
          "command": "cc-copilot.deleteSession",
          "when": "view == claude-sessions-view && viewItem == session",
          "group": "context"
        }
      ]
    },
    "configuration": {
      "title": "CC Copilot",
      "properties": {
        "ccCopilot.proxyConfig": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false,
              "description": "Enable proxy for API requests"
            },
            "url": {
              "type": "string",
              "default": "http://127.0.0.1:1087",
              "format": "uri",
              "pattern": "^https?://.*",
              "patternErrorMessage": "Must be a valid HTTP or HTTPS URL",
              "description": "Proxy server URL"
            },
            "username": {
              "type": "string",
              "default": "",
              "description": "Proxy authentication username (optional)"
            },
            "password": {
              "type": "string",
              "default": "",
              "description": "Proxy authentication password (optional)"
            }
          },
          "additionalProperties": false,
          "default": {
            "enabled": false,
            "url": "http://127.0.0.1:1087",
            "username": "",
            "password": ""
          },
          "markdownDescription": "**Proxy configuration** for Claude API requests. Enable to route requests through a proxy server."
        },
        "ccCopilot.serviceProviders": {
          "type": "array",
          "default": [],
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Unique identifier for the service provider"
              },
              "type": {
                "type": "string",
                "enum": ["claude_official", "third_party"],
                "description": "Type of service provider"
              },
              "name": {
                "type": "string",
                "description": "Display name for the service provider"
              },
              "accounts": {
                "type": "array",
                "description": "List of accounts for this provider",
                "items": {
                  "oneOf": [
                    {
                      "type": "object",
                      "title": "Third Party Account",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "Account unique identifier"
                        },
                        "name": {
                          "type": "string",
                          "description": "Account display name"
                        },
                        "apiKey": {
                          "type": "string",
                          "description": "API key for authentication"
                        },
                        "baseUrl": {
                          "type": "string",
                          "format": "uri",
                          "description": "Base URL for the API endpoint"
                        },
                        "description": {
                          "type": "string",
                          "description": "Optional description for the account"
                        }
                      },
                      "required": ["id", "name", "apiKey", "baseUrl"],
                      "additionalProperties": false
                    },
                    {
                      "type": "object",
                      "title": "Claude Official Account",
                      "properties": {
                        "accountUuid": {"type": "string"},
                        "emailAddress": {"type": "string"},
                        "organizationUuid": {"type": "string"},
                        "organizationRole": {"type": "string"},
                        "workspaceRole": {"type": ["string", "null"]},
                        "organizationName": {"type": "string"},
                        "authorization": {"type": "string"}
                      },
                      "required": ["accountUuid", "emailAddress", "organizationUuid", "organizationRole", "organizationName"],
                      "additionalProperties": false
                    }
                  ]
                }
              },
              "activeAccountId": {
                "type": "string",
                "description": "ID of the currently active account"
              },
              "useProxy": {
                "type": "boolean",
                "default": true,
                "description": "Whether to use proxy configuration for this provider"
              }
            },
            "required": ["id", "type", "name", "accounts", "activeAccountId", "useProxy"],
            "additionalProperties": false
          },
          "markdownDescription": "**Service providers configuration**\n\nManage multiple AI service providers including Claude Official and third-party APIs. Each provider can have multiple accounts."
        },
        "ccCopilot.activeServiceProviderId": {
          "type": "string",
          "default": "",
          "markdownDescription": "**Active service provider ID**\n\nThe currently active AI service provider. Use the command palette (`Ctrl+Shift+P` / `Cmd+Shift+P`) and search for \"Select Active AI Provider\" to choose from available providers, or use the provider selection button in the CC Copilot sidebar."
        },
        "ccCopilot.terminal": {
          "type": "object",
          "properties": {
            "fontSize": {
              "type": "number",
              "default": 14,
              "minimum": 8,
              "maximum": 48,
              "description": "Terminal font size (8-48px)"
            },
            "fontFamily": {
              "type": "string",
              "default": "Monaco, Consolas, monospace",
              "enum": [
                "Monaco, Consolas, monospace",
                "Courier New, monospace",
                "Source Code Pro, monospace",
                "Fira Code, monospace",
                "JetBrains Mono, monospace"
              ],
              "enumItemLabels": [
                "Monaco/Consolas",
                "Courier New",
                "Source Code Pro", 
                "Fira Code",
                "JetBrains Mono"
              ],
              "description": "Terminal font family"
            },
            "theme": {
              "type": "string",
              "default": "dark",
              "enum": ["dark", "light"],
              "enumItemLabels": ["Dark Theme", "Light Theme"],
              "enumDescriptions": [
                "Dark theme optimized for low-light environments",
                "Light theme suitable for bright environments"
              ],
              "description": "Terminal color theme"
            },
            "skipPermissions": {
              "type": "boolean",
              "default": true,
              "markdownDescription": "Skip permission checks for terminal operations. **Warning**: This may reduce security."
            }
          },
          "additionalProperties": false,
          "default": {
            "fontSize": 14,
            "fontFamily": "Monaco, Consolas, monospace",
            "theme": "dark",
            "skipPermissions": true
          },
          "markdownDescription": "**Terminal configuration** for Claude CLI sessions"
        },
        "ccCopilot.defaultProviderType": {
          "type": "string",
          "enum": ["claude_official", "third_party"],
          "enumItemLabels": ["Claude Official", "Third Party API"],
          "enumDescriptions": [
            "Use official Claude.ai account with browser authentication",
            "Use third-party API service with custom API keys"
          ],
          "default": "claude_official",
          "markdownDescription": "**Default service provider type** for new configurations"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./"
  },
  "devDependencies": {
    "@types/node": "16.x",
    "@types/vscode": "^1.74.0",
    "typescript": "^4.9.4"
  },
  "dependencies": {
    "@types/uuid": "^9.0.8",
    "uuid": "^9.0.1"
  }
}
